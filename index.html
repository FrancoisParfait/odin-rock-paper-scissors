<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
        <link rel="stylesheet" href="styles.css">
    </head>
<body>

  <h1>Rock Paper Scissors</h1>
  <p>CHOOSE YOUR WEAPON</p>

  <button id="rockBtn">Rock</button>
  <button id="paperBtn">Paper</button>
  <button id="scissorsBtn">Scissors</button>

  <div id="compChoice"></div>
  <div id="pScore"></div>
  <div id="cScore"></div>
  <div id="playerWin"></div>
  <div id="compWin"></div>
  <div id="tieGame"></div>
  <div id="playAgain"></div>

<script>

  let computerScore = 0;
  let playerScore = 0;
  let numberOfRounds = 0;

  function roundStats() {
    document.getElementById("pScore").innerHTML = "Your Score is: " + playerScore;
    document.getElementById("cScore").innerHTML = "Computer\'s Score is: " + computerScore;
  }

  window.onload = function () {
    roundStats();
  }

  function playAgainButton() {
    document.getElementById("playAgain").innerHTML = '<button onclick="location.reload()">Play Again?</button>';
  }

  function buttonDisable() {
    document.getElementById("rockBtn").disabled = true;
    document.getElementById("paperBtn").disabled = true;
    document.getElementById("scissorsBtn").disabled = true;
  }

  function roundWin() {
    if (numberOfRounds == 5 && playerScore > computerScore) {
      document.getElementById("playerWin").innerHTML = "You Win the Game!";
      buttonDisable();
      playAgainButton();
    } else if (numberOfRounds == 5 && playerScore < computerScore) {
      document.getElementById("compWin").innerHTML = "You Lose the Game :(";
      buttonDisable();
      playAgainButton();
    } else if (numberOfRounds == 5 && playerScore == computerScore) {
      document.getElementById("tieGame").innerHTML = "The Game is a Tie.";
      buttonDisable();
      playAgainButton();
    } 
  }

  const rockBtn = document.querySelector('#rockBtn');
  rockBtn.addEventListener('click', () => {
    playRound('rock');
    roundWin();
  });

  const paperBtn = document.querySelector('#paperBtn');
  paperBtn.addEventListener('click', () => {
    playRound('paper');
    roundWin();
  });

  const scissorsBtn = document.querySelector('#scissorsBtn');
  scissorsBtn.addEventListener('click', () => {
    playRound('scissors');
    roundWin();
  });


  function playRound(playerSelection) {

    const computerSelection = computerPlay();
    
    function computerPlay() {
      let rockPaperScissors = ['rock', 'paper', 'scissors'];
      let computerChoice = rockPaperScissors[Math.floor(Math.random() * rockPaperScissors.length)];
      document.getElementById("compChoice").innerHTML = "Computer chose: " + computerChoice.charAt(0).toUpperCase() + computerChoice.slice(1);
      return computerChoice;
    }

    if (playerSelection == 'rock') {
      if (computerSelection == 'scissors') {
        numberOfRounds++;
        playerScore++;
        return roundStats();
      } else if (computerSelection == 'paper') {
        numberOfRounds++;
        computerScore++;
        return roundStats();
      } else {
        numberOfRounds++;
        return roundStats();
      }
    } 
      
    if (playerSelection == 'paper') {
      if (computerSelection == 'rock') {
        numberOfRounds++;
        playerScore++;
        return roundStats();
      } else if (computerSelection == 'scissors') {
        numberOfRounds++;
        computerScore++;
        return roundStats();
      } else {
        numberOfRounds++;
        return roundStats();
      }
    }
      
    if (playerSelection == 'scissors') {
      if (computerSelection == 'paper') {
        numberOfRounds++;
        playerScore++;
        return roundStats();
      } else if (computerSelection == 'rock') {
        numberOfRounds++;
        computerScore++;
        return roundStats();
      } else {
        numberOfRounds++;
        return roundStats();
      }
    }
  }

</script>


</body>
</html>