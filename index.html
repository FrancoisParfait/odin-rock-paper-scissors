<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
        <link rel="stylesheet" href="styles.css">
    </head>
<body>

  <div class="container">
    <h1>Rock Paper Scissors</h1>
    <p>CHOOSE YOUR WEAPON</p>

    <div class="buttons">
      <button id="rockBtn">Rock</button>
      <button id="paperBtn">Paper</button>
      <button id="scissorsBtn">Scissors</button>
    </div>


    <div class="choices">
      <div id="playerChoice"></div>
      <div id="compChoice"></div>
    </div>

    <div class="scores">
      <div id="pScore"></div>
      <div id="cScore"></div>
    </div>

    <div class="gameResults">
      <div id="playerWin"></div>
      <div id="compWin"></div>
      <div id="tieGame"></div>
    </div>

    <div class="playAgainBtn">
      <div id="playAgain"></div>
    </div>

  </div>
  
<script>

  let computerScore = 0;
  let playerScore = 0;

  function roundStats() {
    document.getElementById("pScore").innerHTML = "Your Score is: " + playerScore;
    document.getElementById("cScore").innerHTML = "Computer\'s Score is: " + computerScore;
  }

  window.onload = function () {
    roundStats();
  }

  function playAgainButton() {
    document.getElementById("playAgain").innerHTML = '<button onclick="location.reload()">Play Again?</button>';
  }

  function buttonDisable() {
    document.getElementById("rockBtn").disabled = true;
    document.getElementById("paperBtn").disabled = true;
    document.getElementById("scissorsBtn").disabled = true;
  }

  function roundWin() {
    if (playerScore == 5) {
      document.getElementById("playerWin").innerHTML = "You Win the Game! &#128513";
      buttonDisable();
      playAgainButton();
    } else if (computerScore == 5) {
      document.getElementById("compWin").innerHTML = "You Lose the Game &#128557";
      buttonDisable();
      playAgainButton();
    } else if (playerScore == 5 && computerScore == 5) {
      document.getElementById("tieGame").innerHTML = "The Game is a Tie. &#128528";
      buttonDisable();
      playAgainButton();
    } 
  }

  const rockBtn = document.querySelector('#rockBtn');
  rockBtn.addEventListener('click', () => {
    playRound('rock');
    roundWin();
  });

  const paperBtn = document.querySelector('#paperBtn');
  paperBtn.addEventListener('click', () => {
    playRound('paper');
    roundWin();
  });

  const scissorsBtn = document.querySelector('#scissorsBtn');
  scissorsBtn.addEventListener('click', () => {
    playRound('scissors');
    roundWin();
  });


  function playRound(playerSelection) {

    document.getElementById("playerChoice").innerHTML = "You chose: " + playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1);

    const computerSelection = computerPlay();
    
    function computerPlay() {
      let rockPaperScissors = ['rock', 'paper', 'scissors'];
      let computerChoice = rockPaperScissors[Math.floor(Math.random() * rockPaperScissors.length)];
      document.getElementById("compChoice").innerHTML = "Computer chose: " + computerChoice.charAt(0).toUpperCase() + computerChoice.slice(1);
      return computerChoice;
    }

    if (playerSelection == 'rock') {
      if (computerSelection == 'scissors') {
        playerScore++;
        return roundStats();
      } else if (computerSelection == 'paper') {
        computerScore++;
        return roundStats();
      } else {
        return roundStats();
      }
    } 
      
    if (playerSelection == 'paper') {
      if (computerSelection == 'rock') {
        playerScore++;
        return roundStats();
      } else if (computerSelection == 'scissors') {
        computerScore++;
        return roundStats();
      } else {
        return roundStats();
      }
    }
      
    if (playerSelection == 'scissors') {
      if (computerSelection == 'paper') {
        playerScore++;
        return roundStats();
      } else if (computerSelection == 'rock') {
        computerScore++;
        return roundStats();
      } else {
        return roundStats();
      }
    }
  }

</script>


</body>
</html>